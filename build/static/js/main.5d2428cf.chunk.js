(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(7),i=s.n(r),o=s(2),l=s(5),d=s.n(l),h=s(8),u=s(3),b=s(6),j=function(e){var t=e.backHandler,s=e.nextHandler,n=e.currentQuestion,c=e.totalQuestions;return Object(a.jsxs)("div",{className:"footer",children:[0!==n&&Object(a.jsx)("button",{type:"button",onClick:t,children:"Prev"}),n!==c&&Object(a.jsx)("button",{type:"button",onClick:s,children:"Next"}),n===c&&Object(a.jsx)("button",{type:"submit",children:"Submit"})]})},p=function(e){var t=e.closeHandler,s=e.errorMessage,n=e.successMessage,c=function(e){return e.split(".").map((function(e,t){return Object(a.jsx)("p",{children:e},t+Math.random())}))};return(s||n)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"overlay"}),Object(a.jsxs)("div",{className:s?"error-box":"notification-box",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("img",{src:"/foundit-logo.png",width:"50px",height:"50px",alt:"Found It logo",style:{borderRadius:"50%"}}),Object(a.jsx)("p",{children:s?"error":"success"})]}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("p",{children:c(s||n)})}),Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("button",{ariaLabel:"Close",type:"button",onClick:t,children:"Close"})})]})]})},m=function(){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("img",{src:"/foundit-logo.png",width:"50px",height:"50px",alt:"Found It logo",style:{borderRadius:"50%"}}),Object(a.jsx)("h1",{children:"Found It"})]})},f=function(e){return!1!==e.loading&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{className:"loader"})})},O=function(){return Object(a.jsx)("div",{className:"g-recaptcha","data-sitekey":"6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg","data-size":"invisible"})},x=function(e){var t=e.changeHandler,s=e.label,n=e.description,c=e.inputMode,r=void 0===c?"text":c,i=e.type,o=void 0===i?"text":i,l=e.value,d=e.name,h=e.required,u=void 0===h||h;return Object(a.jsxs)("div",{className:"form-input",children:[Object(a.jsx)("label",{children:s}),Object(a.jsx)("span",{className:"description",children:n}),Object(a.jsx)("input",{name:d,value:l,type:o,inputMode:r,required:u,onChange:t})]})},g=function(e){var t=e.label,s=e.description,n=e.value,c=e.changeHandler,r=e.name;return Object(a.jsxs)("div",{className:"form-switch",children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("span",{className:"description",children:s}),Object(a.jsxs)("label",{className:"switch",children:[Object(a.jsx)("input",{name:r,checked:n,type:"checkbox",onChange:c}),Object(a.jsx)("span",{className:"slider"}),Object(a.jsx)("span",{className:"status",children:n?"Yes":"No"})]})]})},y=function(e){var t=e.current,s=e.formData,c=e.changeHandler,r=e.setTotal,i=[Object(a.jsx)(x,{name:"deviceName",changeHandler:c,value:s.deviceName,label:"What is the device name?",description:"The device name is the name which appears when you pair it. For example: Paul's AirPods"},"deviceName"),Object(a.jsx)(g,{value:s.hasCase,changeHandler:c,name:"hasCase",label:"Are they in a case?",description:"This does not mean the charging box which comes with the headphones."},"hasCase"),Object(a.jsx)(x,{label:"What colour is the case?",description:"Again, this is not referring to the charging box which comes with the headphones.",name:"caseColour",value:s.caseColour,changeHandler:c,required:!1},"caseColour"),Object(a.jsx)(x,{label:"What material is the case?",description:"A one word answer such as 'plastic', 'rubber' or 'wood' will do.",name:"caseMaterial",value:s.caseMaterial,changeHandler:c,required:!1},"caseMaterial"),Object(a.jsx)(g,{label:"Does the case have accessories?",description:"An accessory could be something like a light, clip or a sticker.",value:s.caseHasAccessories,changeHandler:c,name:"caseHasAccessories"},"caseHasAccessories"),Object(a.jsx)(x,{label:"What is it?",description:"Describe the accessory attached to the case. One word will do, for example: sticker, light, clip etc.",name:"caseAccessories",value:s.caseAccessories,changeHandler:c,required:!1},"caseAccessories"),Object(a.jsx)(x,{label:"What is your name?",description:"If you would prefer not to say just say 'prefer not to say'",name:"name",value:s.name,changeHandler:c},"name"),Object(a.jsx)(x,{label:"What is your email address?",description:"This will only be used to contact you if you correctly identify the AirPods. No information is stored within a database.",name:"email",type:"email",value:s.email,changeHandler:c},"email"),Object(a.jsx)(x,{label:"What is your phone number?",description:"Again, this will only be used to contact you in the case you correctly identify the headphones and is not stored in a database.",name:"phone",type:"number",inputMode:"tel",value:s.phone,changeHandler:c},"phone"),Object(a.jsxs)("div",{className:"confirmation-container",children:[Object(a.jsx)("h2",{children:"Your Answers"}),Object(a.jsx)("p",{className:"description",children:"Please confirm you submitted the correct information or go back and alter your input."}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Name: "}),s.name]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Phone: "}),s.phone]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Email: "}),s.email]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Device Name: "}),s.deviceName]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{style:{fontWeight:"bold"},children:"Description: "}),s.hasCase?"Has a ".concat(s.caseColour," case which is made of ").concat(s.caseMaterial).concat(s.caseHasAccessories?" and has a ".concat(s.caseAccessories):"."):"No case or accessories."]})]},"confirm")];return Object(n.useEffect)((function(){r(i.length-1)}),[]),Object(a.jsx)("div",{className:"content",children:i[t]})},v=function(e){var t=e.toggleVisibility,s=Object(n.useState)(0),c=Object(o.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)(0),x=Object(o.a)(l,2),g=x[0],v=x[1],w=Object(n.useState)(!1),A=Object(o.a)(w,2),N=A[0],C=A[1],H=Object(n.useState)(""),k=Object(o.a)(H,2),M=k[0],I=k[1],T=Object(n.useState)(""),S=Object(o.a)(T,2),W=S[0],F=S[1],P=Object(n.useState)({deviceName:"",hasCase:!1,caseColour:"",caseMaterial:"",caseHasAccessories:!1,caseAccessories:"",name:"",email:"",phone:"",token:""}),D=Object(o.a)(P,2),E=D[0],V=D[1];return Object(n.useEffect)((function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",document.body.appendChild(e)}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p,{errorMessage:W,successMessage:M,closeHandler:function(){""!==W?F(""):(I(""),t(!1))}}),Object(a.jsx)(O,{}),Object(a.jsxs)("form",{className:"container",onSubmit:function(e){if(e.preventDefault(),r!==g)return i(r+1);C(!0),window.grecaptcha.ready((function(){return window.grecaptcha.execute("6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",{action:"submit"}).then(function(){var e=Object(h.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.token=t,e.next=3,fetch("/api/submit/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});case 3:return s=e.sent,e.next=6,s.json();case 6:return a=e.sent,e.abrupt("return",setTimeout((function(){return C(!1),200===a.status?I(a.message):F(a.message)}),3e3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){setTimeout((function(){F("There has been a problem with the server. Please try again later."),C(!1)}),3e3)}))}))},children:[Object(a.jsx)(m,{}),Object(a.jsx)(f,{loading:N}),Object(a.jsx)("button",{className:"close-button",type:"button",onClick:function(){return t(!1)}}),Object(a.jsx)(y,{current:r,formData:E,changeHandler:function(e){var t=e.target,s=t.name,a="checkbox"===t.type?t.checked:t.value;V(Object(b.a)(Object(b.a)({},E),{},Object(u.a)({},s,a)))},setTotal:v}),Object(a.jsx)(j,{backHandler:function(){return E.hasCase||4!==r&&6!==r?E.hasCase&&!E.caseHasAccessories&&6===r?i(r-2):void i(r-1):i(0)},nextHandler:function(){var e=Object.keys(E)[r];if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(""===e)return F("This field cannot be empty"),!1;if(e.length<3)return F("This field must be at least three characters"),!1;if("email"===t){if(!s.test(e))return F("".concat(e," does not appear to be a valid email address")),!1}return!("phone"===t&&e.length<11)||(F("You did not enter a valid phone number. It should be at least 11 digits. You entered ".concat(e)),!1)}(E[e],e))return E.hasCase||1!==r?E.caseHasAccessories||4!==r?void i(r+1):i(r+2):i(r+5)},currentQuestion:r,totalQuestions:g})]})]})},w=function(e){var t=e.children;return Object(a.jsx)("div",{className:"container",children:t})},A=function(){return Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("p",{children:"On the morning of 7th January 2021 I was walking my dog near the London Academy in Edgware, London, and I found a pair of Apple Air Pod headphones."}),Object(a.jsx)("p",{children:"In an attempt to locate the original owner of said headphones I made this website."}),Object(a.jsx)("p",{children:"If you believe the mentioned headphones to be yours please fill in the form and I will contact you."}),Object(a.jsx)("p",{style:{fontWeight:"bolder",fontStyle:"italic"},children:"Please note that I will only contact you if you correctly identify the Apple AirPods which I found."}),Object(a.jsx)("p",{children:"This website does not store your data and I will only be notified if you correctly identify the headphones."}),Object(a.jsxs)("p",{children:["You can verify the website's source code in this"," ",Object(a.jsx)("a",{href:"https://github.com/MakingStuffs/foundit",rel:"noopener noreferrer",target:"_blank",title:"Found It's GitHub repository",children:"GitHub repository"})]})]})},N=function(e){var t=e.buttonCallback;return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("button",{onClick:t,children:"Begin"})})},C=function(){return Object(a.jsx)("footer",{children:Object(a.jsxs)("p",{children:["Your information is not stored or shared with anyone. This website uses Google reCaptcha 3, view their"," ",Object(a.jsx)("a",{href:"https://policies.google.com/terms?hl=en",rel:"noopener noreferrer",target:"_blank",title:"Google reCaptcha terms and privacy statement",children:"terms"})," ","and"," ",Object(a.jsx)("a",{href:"https://policies.google.com/privacy?hl=en",rel:"noopener noreferrer",target:"_blank",title:"Google reCaptcha terms and privacy statement",children:"privacy"})," ",Object(a.jsx)("a",{href:"https://github.com/MakingStuffs/foundit",rel:"noopener noreferrer",target:"_blank",title:"Found It's GitHub repository",children:"View source code"})]})})};var H=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1];return Object(a.jsxs)("div",{className:"App",children:[s?Object(a.jsx)(v,{title:"Claim AirPods",toggleVisibility:c}):Object(a.jsxs)(w,{children:[Object(a.jsx)(m,{}),Object(a.jsx)(A,{}),Object(a.jsx)(N,{buttonCallback:function(){return c(!0)}})]}),Object(a.jsx)(C,{})]})};s(15);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.5d2428cf.chunk.js.map