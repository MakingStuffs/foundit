(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),i=a(7),r=a.n(i),o=a(2),l=a(5),d=a.n(l),h=a(8),u=a(3),j=a(6),b=function(e){var t=e.backHandler,a=e.nextHandler,s=e.currentQuestion,c=e.totalQuestions;return Object(n.jsxs)("div",{className:"footer",children:[0!==s&&Object(n.jsx)("button",{type:"button",onClick:t,children:"Prev"}),s!==c&&Object(n.jsx)("button",{type:"button",onClick:a,children:"Next"}),s===c&&Object(n.jsx)("button",{type:"submit",children:"Submit"})]})},p=function(e){var t=e.closeHandler,a=e.errorMessage,s=e.successMessage,c=function(e){return e.split(".").map((function(e){return Object(n.jsx)("p",{children:e})}))};return(a||s)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsxs)("div",{className:a?"error-box":"notification-box",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{src:"/foundit-logo.png",width:"50px",height:"50px",alt:"Found It logo",style:{borderRadius:"50%"}}),Object(n.jsx)("p",{children:a?"error":"success"})]}),Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("p",{children:c(a||s)})}),Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("button",{ariaLabel:"Close",type:"button",onClick:t,children:"Close"})})]})]})},m=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{src:"/foundit-logo.png",width:"50px",height:"50px",alt:"Found It logo",style:{borderRadius:"50%"}}),Object(n.jsx)("h1",{children:"Found It"})]})},O=function(e){return!1!==e.loading&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:"loader"})})},x=function(){return Object(n.jsx)("div",{className:"g-recaptcha","data-sitekey":"6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg","data-size":"invisible"})},f=function(e){var t=e.changeHandler,a=e.label,s=e.description,c=e.inputMode,i=void 0===c?"text":c,r=e.type,o=void 0===r?"text":r,l=e.value,d=e.name,h=e.required,u=void 0===h||h;return Object(n.jsxs)("div",{className:"form-input",children:[Object(n.jsx)("label",{children:a}),Object(n.jsx)("span",{className:"description",children:s}),Object(n.jsx)("input",{name:d,value:l,type:o,inputMode:i,required:u,onChange:t})]})},g=function(e){var t=e.label,a=e.description,s=e.value,c=e.changeHandler,i=e.name;return Object(n.jsxs)("div",{className:"form-switch",children:[Object(n.jsx)("p",{children:t}),Object(n.jsx)("span",{className:"description",children:a}),Object(n.jsxs)("label",{className:"switch",children:[Object(n.jsx)("input",{name:i,checked:s,type:"checkbox",onChange:c}),Object(n.jsx)("span",{className:"slider"}),Object(n.jsx)("span",{className:"status",children:s?"Yes":"No"})]})]})},v=function(e){var t=e.current,a=e.formData,s=e.changeHandler,c=e.setTotal,i=[Object(n.jsx)(f,{name:"deviceName",changeHandler:s,value:a.deviceName,label:"What is the device name?",description:"The device name is the name which appears when you pair it. For example: Paul's AirPods"}),Object(n.jsx)(g,{value:a.hasCase,changeHandler:s,name:"hasCase",label:"Are they in a case?",description:"This does not mean the charging box which comes with the headphones."}),Object(n.jsx)(f,{label:"What colour is the case?",description:"Again, this is not referring to the charging box which comes with the headphones.",name:"caseColour",value:a.caseColour,changeHandler:s,required:!1}),Object(n.jsx)(f,{label:"What material is the case?",description:"A one word answer such as 'plastic', 'rubber' or 'wood' will do.",name:"caseMaterial",value:a.caseMaterial,changeHandler:s,required:!1}),Object(n.jsx)(g,{label:"Does the Case Have Accessories?",description:"An accessory could be something like a light, clip or a sticker.",value:a.caseHasAccessories,changeHandler:s,name:"caseHasAccessories"}),Object(n.jsx)(f,{label:"What is it?",description:"Describe the accessory attached to the case. One word will do, for example: sticker, light, clip etc.",name:"caseAccessories",value:a.caseAccessories,changeHandler:s,required:!1}),Object(n.jsx)(f,{label:"What is your name?",description:"If you would prefer not to say just say 'prefer not to say'",name:"name",value:a.name,changeHandler:s}),Object(n.jsx)(f,{label:"What is your email address?",description:"This will only be used to contact you if you correctly identify the AirPods. No information is stored within a database.",name:"email",type:"email",inputMode:"email",value:a.email,changeHandler:s}),Object(n.jsx)(f,{label:"What is your phone number?",description:"Again, this will only be used to contact you in the case you correctly identify the headphones and is not stored in a database.",name:"phone",type:"tel",inputMode:"tel",value:a.phone,changeHandler:s}),Object(n.jsxs)("div",{className:"confirmation-container",children:[Object(n.jsx)("h2",{children:"Your Answers"}),Object(n.jsx)("p",{className:"description",children:"Please confirm you submitted the correct information or go back and alter your input."}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Name: "}),a.name]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Phone: "}),a.phone]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Email: "}),a.email]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Device Name: "}),a.deviceName]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Description: "}),a.hasCase?"Has a ".concat(a.caseColour," case which is made of ").concat(a.caseMaterial).concat(a.caseHasAccessories?" and has a ".concat(a.caseAccessories):"."):"No case or accessories."]})]})];return c(i.length-1),Object(n.jsx)("div",{className:"content",children:i[t]})},y=function(e){var t=e.toggleVisibility,a=Object(s.useState)(0),c=Object(o.a)(a,2),i=c[0],r=c[1],l=Object(s.useState)(0),f=Object(o.a)(l,2),g=f[0],y=f[1],A=Object(s.useState)(!1),w=Object(o.a)(A,2),N=w[0],C=w[1],H=Object(s.useState)(""),k=Object(o.a)(H,2),M=k[0],I=k[1],S=Object(s.useState)(""),W=Object(o.a)(S,2),T=W[0],P=W[1],D=Object(s.useState)({deviceName:"",hasCase:!1,caseColour:"",caseMaterial:"",caseHasAccessories:!1,caseAccessories:"",name:"",email:"",phone:"",token:""}),F=Object(o.a)(D,2),E=F[0],V=F[1];return Object(s.useEffect)((function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",document.body.appendChild(e)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p,{errorMessage:T,successMessage:M,closeHandler:function(){""!==T?P(""):(I(""),t(!1))}}),Object(n.jsx)(x,{}),Object(n.jsxs)("form",{className:"container",onSubmit:function(e){if(e.preventDefault(),i!==g)return r(i+1);C(!0),window.grecaptcha.ready((function(){return window.grecaptcha.execute("6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",{action:"submit"}).then(function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.token=t,e.next=3,fetch("/api/submit/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",setTimeout((function(){return C(!1),200===n.status?I(n.message):P(n.message)}),3e3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},children:[Object(n.jsx)(m,{}),Object(n.jsx)(O,{loading:N}),Object(n.jsx)("button",{className:"close-button",type:"button",onClick:function(){return t(!1)}}),Object(n.jsx)(v,{current:i,formData:E,changeHandler:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;V(Object(j.a)(Object(j.a)({},E),{},Object(u.a)({},a,n)))},setTotal:y}),Object(n.jsx)(b,{backHandler:function(){return E.hasCase||4!==i&&6!==i?E.hasCase&&!E.caseHasAccessories&&6===i?r(i-2):void r(i-1):r(0)},nextHandler:function(){var e=Object.keys(E)[i];if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(""===e)return P("This field cannot be empty"),!1;if(e.length<3)return P("This field must be at least three characters"),!1;if("email"===t){if(!a.test(e))return P("".concat(e," does not appear to be a valid email address")),!1}return!("phone"===t&&e.length<11)||(P("You did not enter a valid phone number. It should be at least 11 digits. You entered ".concat(e)),!1)}(E[e],e))return E.hasCase||1!==i?E.caseHasAccessories||4!==i?void r(i+1):r(i+2):r(i+5)},currentQuestion:i,totalQuestions:g})]})]})},A=function(e){var t=e.children;return Object(n.jsx)("div",{className:"container",children:t})},w=function(){return Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("p",{children:"On the morning of 7th January 2021 I was walking my dog near the London Academy in Edgware, London, and I found a pair of Apple Air Pod headphones."}),Object(n.jsx)("p",{children:"In an attempt to locate the original owner of said headphones I made this website."}),Object(n.jsx)("p",{children:"If you believe the mentioned headphones to be yours please fill in the form and I will contact you."}),Object(n.jsx)("p",{style:{fontWeight:"bolder",fontStyle:"italic"},children:"Please note that I will only contact you if you correctly identify the Apple AirPods which I found."})]})},N=function(e){var t=e.buttonCallback;return Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("button",{onClick:t,children:"Begin"})})},C=function(){return Object(n.jsx)("footer",{style:{maxWidth:500,width:"90%",textAlign:"center",color:"white",margin:"2rem auto",fontSize:"1.2rem"},children:"Your information is not stored on any database or shared with any third parties other than Google's reCaptcha bot prevention."})};var H=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)("div",{className:"App",children:[a?Object(n.jsx)(y,{title:"Claim AirPods",toggleVisibility:c}):Object(n.jsxs)(A,{children:[Object(n.jsx)(m,{}),Object(n.jsx)(w,{}),Object(n.jsx)(N,{buttonCallback:function(){return c(!0)}})]}),Object(n.jsx)(C,{})]})};a(15);r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.bd9d16a0.chunk.js.map