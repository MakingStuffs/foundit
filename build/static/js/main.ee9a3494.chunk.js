(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(1),n=s.n(a),i=s(7),r=s.n(i),o=s(2),l=s(5),h=s.n(l),d=s(8),j=s(3),b=s(6),u=function(e){var t=e.toggleVisibility,s=Object(a.useState)(0),n=Object(o.a)(s,2),i=n[0],r=n[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),p=u[0],m=u[1],O=Object(a.useState)(""),x=Object(o.a)(O,2),f=x[0],y=x[1],g=Object(a.useState)(""),v=Object(o.a)(g,2),N=v[0],A=v[1],C=Object(a.useState)({deviceName:"",hasCase:!1,caseColour:"",caseMaterial:"",caseHasAccessories:!1,caseAccessories:"",name:"",email:"",phone:"",token:""}),w=Object(o.a)(C,2),k=w[0],S=w[1],W=function(e){var t=e.target,s=t.name,c="checkbox"===t.type?t.checked:t.value;S(Object(b.a)(Object(b.a)({},k),{},Object(j.a)({},s,c)))};Object(a.useEffect)((function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",document.body.appendChild(e)}),[]);var H=[Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What is the device name?"}),Object(c.jsx)("span",{className:"description",children:"The device name is the name which appears when you pair it. For example: Paul's AirPods"}),Object(c.jsx)("input",{name:"deviceName",value:k.deviceName,type:"text",onChange:W,required:!0})]}),Object(c.jsxs)("div",{className:"form-switch",children:[Object(c.jsx)("p",{children:"Are they in a case?"}),Object(c.jsx)("span",{className:"description",children:"This does not mean the charging box which comes with the headphones."}),Object(c.jsxs)("label",{className:"switch",children:[Object(c.jsx)("input",{name:"hasCase",checked:k.hasCase,type:"checkbox",onChange:W}),Object(c.jsx)("span",{className:"slider"}),Object(c.jsx)("span",{className:"status",children:k.hasCase?"Yes":"No"})]})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What colour is the case?"}),Object(c.jsx)("span",{className:"description",children:"Again, this is not referring to the charging box which comes with the headphones."}),Object(c.jsx)("input",{name:"caseColour",value:k.caseColour,type:"text",onChange:W})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What Material is the Case?"}),Object(c.jsx)("span",{className:"description",children:"A one word answer such as 'plastic', 'rubber' or 'wood' will do."}),Object(c.jsx)("input",{name:"caseMaterial",value:k.caseMaterial,type:"test",onChange:W})]}),Object(c.jsxs)("div",{className:"form-switch",children:[Object(c.jsx)("p",{children:"Does the Case Have Accessories?"}),Object(c.jsx)("span",{className:"description",children:"An accessory could be something like a light, clip or a sticker."}),Object(c.jsxs)("label",{className:"switch",children:[Object(c.jsx)("input",{name:"caseHasAccessories",checked:k.caseHasAccessories,type:"checkbox",onChange:W}),Object(c.jsx)("span",{className:"slider"}),Object(c.jsx)("span",{className:"status",children:k.caseHasAccessories?"Yes":"No"})]})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What is it?"}),Object(c.jsx)("span",{className:"description",children:"Describe the accessory attached to the case."}),Object(c.jsx)("input",{name:"caseAccessories",value:k.caseAccessories,type:"text",onChange:W})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What is your name?"}),Object(c.jsx)("span",{className:"description",children:"If you would prefer not to say just say 'prefer not to say'"}),Object(c.jsx)("input",{name:"name",value:k.name,type:"text",onChange:W})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What is your email address?"}),Object(c.jsx)("span",{className:"description",children:"This will only be used to contact you if you correctly identify the AirPods. No information is stored within a database."}),Object(c.jsx)("input",{name:"email",value:k.email,type:"text",onChange:W})]}),Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{children:"What is your phone number?"}),Object(c.jsx)("span",{className:"description",children:"Again, this will only be used to contact you in the case you correctly identify the headphones and is not stored in a database."}),Object(c.jsx)("input",{name:"phone",value:k.phone,type:"number",onChange:W})]}),Object(c.jsxs)("div",{className:"confirmation-container",children:[Object(c.jsx)("h2",{children:"Your Answers"}),Object(c.jsx)("p",{className:"description",children:"Please confirm you submitted the correct information or go back and alter your input."}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{style:{fontWeight:"bold"},children:"Name: "}),k.name]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{style:{fontWeight:"bold"},children:"Phone: "}),k.phone]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{style:{fontWeight:"bold"},children:"Email: "}),k.email]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{style:{fontWeight:"bold"},children:"Device Name: "}),k.deviceName]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{style:{fontWeight:"bold"},children:"Description: "}),k.hasCase?"Has a ".concat(k.caseColour," case which is made of ").concat(k.caseMaterial).concat(k.caseHasAccessories?" and has a ".concat(k.caseAccessories):"."):"No case or accessories."]})]})];return Object(c.jsxs)(c.Fragment,{children:[""!==f&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsxs)("div",{className:"notification-box",children:[Object(c.jsx)("h3",{children:"Success"}),Object(c.jsx)("p",{children:f}),Object(c.jsx)("button",{onClick:function(){y(""),t(!1)},children:"Close"})]})]}),""!==N&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsxs)("div",{className:"error-box",children:[Object(c.jsx)("h3",{children:"Error"}),Object(c.jsx)("p",{children:N}),Object(c.jsx)("button",{onClick:function(){return A("")},children:"Close"})]})]}),Object(c.jsx)("div",{className:"g-recaptcha","data-sitekey":"6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg","data-size":"invisible"}),Object(c.jsxs)("form",{className:"container",onSubmit:function(e){if(e.preventDefault(),i!==H.length-1)return r(i+1);m(!0),window.grecaptcha.ready((function(){return window.grecaptcha.execute("6LdTzCUaAAAAABJFQhrEhUVV3CAr2s1DvrH9M3gg",{action:"submit"}).then(function(){var e=Object(d.a)(h.a.mark((function e(t){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.token=t,e.next=3,fetch("/api/submit/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",setTimeout((function(){return m(!1),200===c.status?y(c.message):A(c.message)}),3e3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},children:[!1!==p&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("span",{className:"loader"})}),Object(c.jsx)("button",{className:"close-button",type:"button",onClick:function(){return t(!1)}}),H[i],0!==i&&Object(c.jsx)("button",{type:"button",onClick:function(){return k.hasCase||4!==i&&6!==i?k.hasCase&&!k.caseHasAccessories&&6===i?r(i-2):void r(i-1):r(0)},children:"Prev"}),i!==H.length-1&&Object(c.jsx)("button",{type:"button",onClick:function(){var e=Object.keys(k)[i];if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(""===e)return A("This field cannot be empty"),!1;if(e.length<3)return A("This field must be at least three characters"),!1;if("email"===t){if(!s.test(e))return A("".concat(e," does not appear to be a valid email address")),!1}return!("phone"===t&&e.length<11)||(A("You did not enter a valid phone number. It should be at least 11 digits. You entered ".concat(e)),!1)}(k[e],e))return k.hasCase||1!==i?k.caseHasAccessories||4!==i?void r(i+1):r(i+2):r(i+5)},children:"Next"}),i===H.length-1&&Object(c.jsx)("button",{type:"submit",children:"Submit"})]})]})},p=function(e){var t=e.children;return Object(c.jsx)("div",{className:"container",children:t})};var m=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(c.jsx)("div",{className:"App",children:s?Object(c.jsx)(u,{title:"Claim AirPods",toggleVisibility:n}):Object(c.jsxs)(p,{children:[Object(c.jsx)("h1",{children:"Found It"}),Object(c.jsx)("p",{children:"On the morning of 7th January 2021 I was walking my dog near the London Academy in Edgware, London, and I found a pair of Apple Air Pod headphones."}),Object(c.jsx)("p",{children:"In an attempt to locate the original owner of said headphones I made this website."}),Object(c.jsx)("p",{children:"If you believe the mentioned headphones to be yours please fill in the form an I will contact you."}),Object(c.jsx)("p",{style:{fontWeight:"bolder",fontStyle:"italic"},children:"Please note that I will only contact you if you correctly identify the Apple AirPods which I found."}),Object(c.jsx)("button",{onClick:function(){return n(!0)},children:"Begin"})]})})};s(15);r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ee9a3494.chunk.js.map